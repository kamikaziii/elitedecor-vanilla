<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elite Decor - Card Morph Prototype</title>
  <meta name="description" content="Option 2: Card morphs into full collection experience">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Instrument+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

  <!-- Base Styles -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Card Morph Specific Styles -->
  <style>
    /* ==========================================================================
       CARD MORPH PROTOTYPE - Option 2
       When clicking a collection card, it morphs into a full-screen experience
       Uses GSAP FLIP plugin (2025 best practices)
       ========================================================================== */

    /* Collection cards are styled like existing flip cards but with morph capability */
    .collection-card {
      position: relative;
      width: 100%;
      height: 85vh;
      min-height: 400px;
      max-height: 800px;
      border-radius: 27px;
      overflow: hidden;
      cursor: pointer;
      outline: none;
    }

    .collection-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    }

    .collection-card:hover img {
      transform: scale(1.03);
    }

    .collection-card h3 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: var(--font-display);
      font-size: clamp(2rem, 5vw, 4rem);
      font-weight: 700;
      color: white;
      text-align: center;
      text-shadow: 0 2px 20px rgba(0,0,0,0.3);
      pointer-events: none;
      z-index: 2;
    }

    /* Z-index for stacking (same as flip cards) */
    .collection-card:nth-child(1) { z-index: 1; }
    .collection-card:nth-child(2) { z-index: 2; }
    .collection-card:nth-child(3) { z-index: 3; }
    .collection-card:nth-child(4) { z-index: 4; }
    .collection-card:nth-child(5) { z-index: 5; }

    /* ==========================================================================
       COLLECTION VIEW - Full-screen morphed state
       ========================================================================== */

    .collection-view {
      position: fixed;
      inset: 0;
      z-index: 2000;
      background: var(--bg-dark);
      overflow-y: auto;
      overflow-x: hidden;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s ease;
    }

    .collection-view.active {
      opacity: 1;
      visibility: visible;
    }

    .collection-view-inner {
      min-height: 100vh;
      padding: 0;
    }

    /* Close button */
    .collection-close {
      position: fixed;
      top: 20px;
      right: 24px;
      z-index: 2100;
      width: 48px;
      height: 48px;
      border: none;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s ease, transform 0.3s ease;
    }

    .collection-close:hover {
      background: rgba(255,255,255,0.2);
      transform: rotate(90deg);
    }

    .collection-close::before,
    .collection-close::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 2px;
      background: white;
    }

    .collection-close::before { transform: rotate(45deg); }
    .collection-close::after { transform: rotate(-45deg); }

    /* Collection Hero */
    .collection-hero {
      position: relative;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .collection-hero-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
    }

    .collection-hero-bg img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .collection-hero-content {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 0 24px;
    }

    .collection-hero h1 {
      font-family: var(--font-display);
      font-size: clamp(3rem, 10vw, 8rem);
      font-weight: 700;
      color: white;
      line-height: 1;
      margin-bottom: 24px;
    }

    .collection-hero h1 span {
      display: block;
    }

    .collection-hero p {
      font-size: clamp(1rem, 2vw, 1.25rem);
      color: rgba(255,255,255,0.8);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Collection Info Section */
    .collection-info {
      padding: clamp(60px, 10vh, 120px) clamp(24px, 5vw, 80px);
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: clamp(40px, 8vw, 120px);
      max-width: 1400px;
      margin: 0 auto;
    }

    @media (max-width: 768px) {
      .collection-info {
        grid-template-columns: 1fr;
      }
    }

    .collection-description h2 {
      font-family: var(--font-display);
      font-size: clamp(1.5rem, 3vw, 2.5rem);
      font-weight: 600;
      color: var(--text-white);
      margin-bottom: 24px;
      line-height: 1.2;
    }

    .collection-description p {
      font-size: 1rem;
      line-height: 1.8;
      color: rgba(255,255,255,0.7);
      margin-bottom: 16px;
    }

    .collection-meta {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .meta-item h4 {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.5);
      margin-bottom: 8px;
    }

    .meta-item p {
      font-size: 1rem;
      color: var(--text-white);
      line-height: 1.6;
    }

    /* ==========================================================================
       HORIZONTAL GALLERY - Scroll-triggered horizontal movement
       ========================================================================== */

    .horizontal-gallery-section {
      position: relative;
      height: 100vh;
      overflow: hidden;
      background: var(--bg-dark);
      /* Prevent browser back/forward gesture - Chrome needs this on scrollable elements */
      overscroll-behavior: none;
      overscroll-behavior-x: none;
      /* Touch action to help prevent navigation gestures */
      touch-action: pan-x pan-y pinch-zoom;
    }

    /* Chrome workaround: Apply to collection view as well */
    .collection-view {
      overscroll-behavior: none;
      overscroll-behavior-x: none;
    }

    .horizontal-gallery-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      display: flex;
      gap: 24px;
      padding: 40px;
      padding-right: 80px; /* Extra padding at end */
      will-change: transform;
      cursor: grab;
      /* No z-index here - let GSAP Draggable handle it without interference */
    }

    /* Navigation container with isolated stacking context (2025 best practice) */
    /* This ensures arrows are ALWAYS above the gallery regardless of transforms */
    .gallery-navigation {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none; /* Let clicks pass through to gallery */
      isolation: isolate; /* Creates clean stacking context */
      z-index: 100; /* Above gallery wrapper */
    }

    .horizontal-gallery-wrapper:active {
      cursor: grabbing;
    }

    .gallery-item {
      flex-shrink: 0;
      height: calc(100% - 80px);
      border-radius: 20px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1),
                  box-shadow 0.4s ease;
    }

    .gallery-item:hover {
      transform: scale(1.02);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    }

    .gallery-item img {
      height: 100%;
      width: auto;
      object-fit: cover;
      user-select: none;
      -webkit-user-drag: none;
    }

    /* Gallery hint */
    .gallery-hint {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.5);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .gallery-hint::after {
      content: '';
      width: 40px;
      height: 1px;
      background: rgba(255,255,255,0.3);
      animation: scrollHint 1.5s ease-in-out infinite;
    }

    @keyframes scrollHint {
      0%, 100% { transform: translateX(0); opacity: 1; }
      50% { transform: translateX(10px); opacity: 0.5; }
    }

    /* ==========================================================================
       GALLERY ARROW NAVIGATION
       ========================================================================== */

    .gallery-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1; /* Within the isolated .gallery-navigation context */
      width: 56px;
      height: 56px;
      border: none;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
      pointer-events: auto; /* Re-enable clicks on arrows (parent has pointer-events: none) */
    }

    .gallery-arrow:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-50%) scale(1.1);
    }

    .gallery-arrow:active {
      transform: translateY(-50%) scale(0.95);
    }

    .gallery-arrow svg {
      width: 24px;
      height: 24px;
      color: white;
    }

    .gallery-arrow-left {
      left: 24px;
    }

    .gallery-arrow-right {
      right: 24px;
    }

    .gallery-arrow.hidden {
      opacity: 0;
      pointer-events: none;
    }

    /* Hide arrows on mobile (touch devices prefer swipe) */
    @media (max-width: 768px) {
      .gallery-arrow {
        display: none;
      }
    }

    /* ==========================================================================
       REDUCED MOTION
       ========================================================================== */

    @media (prefers-reduced-motion: reduce) {
      .collection-view {
        transition: none;
      }

      .collection-close:hover {
        transform: none;
      }

      .gallery-hint::after {
        animation: none;
      }

      .gallery-arrow:hover {
        transform: translateY(-50%);
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <a href="/" class="logo">
      <img src="assets/logo.svg" alt="Elite Decor" width="40" height="40">
    </a>
    <button class="menu-toggle" aria-label="Open menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-slideshow">
        <div class="hero-slide active">
          <img src="https://elitedecor.pt/wp-content/uploads/2025/11/Hero-scaled.jpg" alt="Elite Decor Showroom" loading="eager">
        </div>
      </div>
      <h1 class="hero-title">
        <span>E</span><span>L</span><span>I</span><span>T</span><span>E</span><span>D</span><span>E</span><span>C</span><span>O</span><span>R</span>
      </h1>
    </section>

    <!-- What We Do Section -->
    <section class="what-we-do">
      <h3 class="section-label">What We do</h3>
      <h4 class="section-description split-text" data-split="chars">Custom furniture designed for your home, crafted to reflect your style and create a space that is both functional and visually stunning.</h4>
    </section>

    <!-- Collection Cards Section - Cards morph into full views -->
    <section class="flip-cards-section">
      <p class="cards-hint">Click to explore collection</p>

      <div class="flip-cards-grid">
        <!-- Noble Collection Card -->
        <article class="collection-card"
                 tabindex="0"
                 role="button"
                 aria-label="Explore Noble Collection"
                 data-collection="noble"
                 data-flip-id="noble-card">
          <img src="https://elitedecor.pt/wp-content/uploads/2025/03/NOBLE-2.jpg" alt="Noble Collection" loading="lazy">
          <h3>Noble<br>Collection</h3>
        </article>

        <!-- Essense Collection Card -->
        <article class="collection-card"
                 tabindex="0"
                 role="button"
                 aria-label="Explore Essense Collection"
                 data-collection="essense"
                 data-flip-id="essense-card">
          <img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-4.jpg" alt="Essense Collection" loading="lazy">
          <h3>Essense<br>Collection</h3>
        </article>

        <!-- Original cards (non-morphing) -->
        <article class="flip-card" tabindex="0" role="button" aria-pressed="false">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="assets/cards/quality-materials.jpg" alt="Quality Materials" loading="lazy">
              <h3>Quality Materials</h3>
            </div>
            <div class="flip-card-back" style="--bg-image: url('../assets/cards/quality-materials.jpg')">
              <div class="back-content">
                <h1>Quality Materials</h1>
                <p>Always attentive to detail and with a multidisciplinary team focused on the client and their needs.</p>
              </div>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
      <h1 class="section-title">How It Works</h1>
      <div class="steps">
        <hr class="step-divider">
        <div class="step">
          <span class="step-number">01</span>
          <span class="step-title">Consultation & Vision</span>
          <span class="step-description">Tell us what you need!</span>
        </div>
        <hr class="step-divider">
        <div class="step">
          <span class="step-number">02</span>
          <span class="step-title">Custom Design & Materials</span>
          <span class="step-description">We create a tailored design.</span>
        </div>
        <hr class="step-divider">
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <hr class="footer-divider">
    <div class="footer-content">
      <div class="footer-contact">
        <h6>
          <a href="mailto:geral@elitedecor.pt">geral@elitedecor.pt</a>
          <span class="phone">+351 917 591 176</span>
        </h6>
      </div>
      <div class="social-links">
        <a href="https://www.instagram.com/elitedecor.pt/" target="_blank" rel="noopener">Instagram</a>
        <a href="https://www.facebook.com/elitedecor.pt/" target="_blank" rel="noopener">Facebook</a>
      </div>
    </div>
    <div class="footer-cta">
      <a href="mailto:geral@elitedecor.pt">Let's talk!</a>
    </div>
  </footer>

  <!-- Noble Collection View (Hidden, morphs from card) -->
  <div class="collection-view" id="noble-view" aria-hidden="true">
    <button class="collection-close" aria-label="Close collection view"></button>
    <div class="collection-view-inner">
      <!-- Hero -->
      <div class="collection-hero">
        <div class="collection-hero-bg">
          <img src="https://elitedecor.pt/wp-content/uploads/2025/03/NOBLE-2.jpg" alt="Noble Collection Hero">
        </div>
        <div class="collection-hero-content">
          <h1><span>Noble</span><span>Collection</span></h1>
          <p>A furniture line that celebrates the essence of modern design.</p>
        </div>
      </div>

      <!-- Info Section -->
      <section class="collection-info">
        <div class="collection-description">
          <h2>Inspired by simplicity and sophistication.</h2>
          <p>Noble translates the harmony between pure forms, noble materials and intelligent functionality. Each piece is created with precision to offer a perfect balance between aesthetics and comfort.</p>
          <p>With natural finishes and minimalist lines, Noble values the details that really matter, leaving the superfluous aside and focusing on what is essential.</p>
        </div>
        <div class="collection-meta">
          <div class="meta-item">
            <h4>Year</h4>
            <p>2022</p>
          </div>
          <div class="meta-item">
            <h4>Materials</h4>
            <p>Wood<br>Metal</p>
          </div>
          <div class="meta-item">
            <h4>Services</h4>
            <p>Sketching<br>3D modeling<br>Prototyping</p>
          </div>
        </div>
      </section>

      <!-- Horizontal Gallery -->
      <section class="horizontal-gallery-section" data-gallery="noble">
        <div class="horizontal-gallery-wrapper">
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE1-uai-1520x1520.jpeg" alt="Noble 1" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE2-uai-1312x1312.jpeg" alt="Noble 2" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE3-uai-822x822.jpeg" alt="Noble 3" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE4-uai-1312x1312.jpeg" alt="Noble 4" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE5-uai-823x823.jpeg" alt="Noble 5" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE6-uai-1048x1048.jpeg" alt="Noble 6" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE7-uai-1316x1316.jpeg" alt="Noble 7" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE8-uai-1513x1513.jpeg" alt="Noble 8" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE9-uai-965x965.jpeg" alt="Noble 9" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE10-uai-968x968.jpeg" alt="Noble 10" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE11-uai-736x736.jpeg" alt="Noble 11" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE12-uai-1325x1325.jpeg" alt="Noble 12" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2025/08/NOBLE13-uai-1371x1371.jpeg" alt="Noble 13" loading="lazy"></div>
        </div>
        <p class="gallery-hint">Drag or scroll to explore</p>
      </section>
    </div>
  </div>

  <!-- Essense Collection View -->
  <div class="collection-view" id="essense-view" aria-hidden="true">
    <button class="collection-close" aria-label="Close collection view"></button>
    <div class="collection-view-inner">
      <div class="collection-hero">
        <div class="collection-hero-bg">
          <img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-4.jpg" alt="Essense Collection Hero">
        </div>
        <div class="collection-hero-content">
          <h1><span>Essense</span><span>Collection</span></h1>
          <p>A furniture line that celebrates the essence of modern design.</p>
        </div>
      </div>

      <section class="collection-info">
        <div class="collection-description">
          <h2>Inspired by simplicity and sophistication.</h2>
          <p>Essense translates the harmony between pure forms, noble materials and intelligent functionality. Each piece is created with precision to offer a perfect balance between aesthetics and comfort.</p>
        </div>
        <div class="collection-meta">
          <div class="meta-item">
            <h4>Year</h4>
            <p>2022</p>
          </div>
          <div class="meta-item">
            <h4>Materials</h4>
            <p>Wood<br>Metal</p>
          </div>
        </div>
      </section>

      <section class="horizontal-gallery-section" data-gallery="essense">
        <div class="horizontal-gallery-wrapper">
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-1.jpg" alt="Essense 1" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-2.jpg" alt="Essense 2" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-3.jpg" alt="Essense 3" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-4.jpg" alt="Essense 4" loading="lazy"></div>
          <div class="gallery-item"><img src="https://elitedecor.pt/wp-content/uploads/2022/08/Essential_line-5.jpg" alt="Essense 5" loading="lazy"></div>
        </div>
        <p class="gallery-hint">Drag or scroll to explore</p>
      </section>
    </div>
  </div>

  <!-- Accessibility announcement -->
  <div class="sr-only" aria-live="polite" id="announcer"></div>

  <!-- GSAP + ScrollTrigger + FLIP + Draggable (All FREE since 2024) -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Flip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Draggable.min.js"></script>
  <script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>

  <!-- Card Morph App -->
  <script src="js/app-card-morph.js"></script>
</body>
</html>
